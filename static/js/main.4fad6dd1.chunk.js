(this["webpackJsonpcanvas-circle-rectangle"]=this["webpackJsonpcanvas-circle-rectangle"]||[]).push([[0],{12:function(t,e,n){},13:function(t,e,n){},14:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),i=n(6),a=n.n(i),u=(n(12),n(2)),o=n(4);n(13);function l(t,e,n,r){return[Math.min(t,n),Math.min(e,r),Math.abs(n-t),Math.abs(r-e)]}function f(t,e,n,r){return[Math.abs(n+t)/2,Math.abs(r+e)/2,function(t,e,n,r){var c=n-t,i=r-e;return c*=c,i*=i,Math.sqrt(c+i)}(t,e,n,r)/2,0,2*Math.PI,!1]}function s(t,e){var n=t.getBoundingClientRect();return{x:(e.clientX-n.left)/(n.right-n.left)*t.width,y:(e.clientY-n.top)/(n.bottom-n.top)*t.height}}function h(t,e){var n=Math.abs(t.x-e.x-e.w/2),r=Math.abs(t.y-e.y-e.h/2);if(n>e.w/2+t.r)return!1;if(r>e.h/2+t.r)return!1;if(n<=e.w/2)return!0;if(r<=e.h/2)return!0;var c=n-e.w/2,i=r-e.h/2;return c*c+i*i<=t.r*t.r}var v=function(){var t=Object(r.useRef)(null),e=Object(r.useRef)(null),n=Object(r.useRef)({x:0,y:0}),i=Object(r.useState)("square"),a=Object(o.a)(i,2),v=a[0],d=a[1],y=Object(r.useState)([]),m=Object(o.a)(y,2),p=m[0],b=m[1],x=Object(r.useRef)(!1);function g(){t.current&&e.current&&(t.current.clearRect(0,0,e.current.width,e.current.height),p.forEach((function(t){return E(t)})),t.current.stroke())}function w(e,n,r,c){var i,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t.current){var o,f=l(e,n,r,c);if(a)(o=t.current).fillRect.apply(o,Object(u.a)(f));else(i=t.current).strokeRect.apply(i,Object(u.a)(f))}}function E(e){"circle"===e.type&&function(e,n,r,c){var i;if(t.current){var a=f(e,n,r,c);(i=t.current).arc.apply(i,Object(u.a)(a))}}(e.initial.x,e.initial.y,e.final.x,e.final.y),"square"===e.type&&w(e.initial.x,e.initial.y,e.final.x,e.final.y)}return Object(r.useEffect)((function(){g()}),[p.length,v]),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("span",{className:"square structure ".concat("square"===v?"active":""),onClick:function(t){return d((function(t){return"circle"===t?"square":"circle"}))}}),c.a.createElement("span",{className:"circle structure ".concat("circle"===v?"active":""),onClick:function(t){return d((function(t){return"circle"===t?"square":"circle"}))}}),c.a.createElement("button",{type:"button",onClick:function(t){p.filter((function(t){return"square"===t.type})).forEach((function(t){return function(t,e,n,r){var c=p.find((function(t){return"circle"===t.type}));if(c)for(var i=f(null===c||void 0===c?void 0:c.initial.x,null===c||void 0===c?void 0:c.initial.y,null===c||void 0===c?void 0:c.final.x,null===c||void 0===c?void 0:c.final.y),a=Object(o.a)(i,3),u=a[0],l=a[1],s=a[2],v=t+10;v+10<n;v+=15)for(var d=e+10;d+10<r;d+=15){h({x:u,y:l,r:s},{x:v,y:d,w:10,h:10})||w(v,d,v+10,d+10,!0)}}(t.initial.x,t.initial.y,t.final.x,t.final.y)}))}},"Tile"),c.a.createElement("button",{onClick:function(n){t.current&&e.current&&(b([]),t.current.clearRect(0,0,e.current.width,e.current.height))}},"Clear")),c.a.createElement("main",{id:"main"},c.a.createElement("canvas",{onMouseDown:function(t){if(e.current){x.current=!0;var r=s(e.current,t),c=r.x,i=r.y;n.current={x:c,y:i}}},onMouseUp:function(t){if(x.current=!1,e.current){var r=s(e.current,t),c=r.x,i=r.y;n.current.x===c&&n.current.y===i||b((function(t){return[].concat(Object(u.a)(t),[{type:v,initial:n.current,final:{x:c,y:i}}])}))}},onMouseMove:function(r){if(r.persist(),x.current&&t.current&&e.current){var c=s(e.current,r),i=c.x,a=c.y;t.current.clearRect(0,0,e.current.width,e.current.height),g(),E({type:v,initial:n.current,final:{x:i,y:a}}),t.current.stroke()}},ref:function(n){if(n){var r=document.getElementById("main");if(r){var c=r.getBoundingClientRect();t.current=n.getContext("2d"),e.current=n,e.current.width=c.width,e.current.height=c.height}}},id:"canvas",className:"canvas"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},7:function(t,e,n){t.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.4fad6dd1.chunk.js.map